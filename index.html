<!DOCTYPE html>
<html lang="en">

<head>
  <title>Manipulating Arrays Solution</title>
</head>

<body>
  <h1>Manipulating Arrays Solution</h1>
  <p>Please load this file in VSCode and Chrome, and open the Console in Chrome Dev Tools.</p>
  <p>Work through the challenges found inside the script tag in this document,
    until the Console reports all tests passing.</p>

  <script>
    // In CHALLENGES 1-9 you will flesh out some functions.

    // To do this, translate each 🧠 set of instructions into a working function.
    // ❗ Functions are scaffolded for you, but some of them might be missing their parameters.
    // ❗ Watch the Guided Project to learn proper debugging technique.
    // ❗ The first challenge is _partially_ done for you:

    // 👉 CHALLENGE 1
    // 🧠 The function sumNumsFor takes an array of supposed numbers and adds them up, returning the total sum.
    // 🧠 If the function receives an empty array, the returned value ought to be 0.
    // 🧠 If an element in the array happens to not be a number, it is ignored.
    // 🧠 However, if the number 13 is encountered, sumNumsFor returns the string "I'm too superstitious!"
    // 🧠 Examples of usage:
    // sumNumsFor([1, 2, 3]) // should return 6
    // sumNumsFor([1, 2, 13]) // should return "I'm too superstitious!"
    // ❗ Notes:
    // 🧠 There are many ways to solve this, but practice using a for loop to iterate over the array.
    // 🧠 As you have done in the past, declare a variable before you start looping, to accumulate the result.
    let finalResult;
    function sumNumsFor(nums) {
      if (nums.length === 0) {
          finalResult = 0
          console.log(finalResult)
          return finalResult
        } 
        finalResult = 0
      for (let i = 0; i < nums.length; i++) {
        if (typeof nums[i] !== 'number') {
          console.log(finalResult)
        } else if (nums[i] === 13) {
          finalResult = "I'm too superstitious!"
          console.log(finalResult)
          return finalResult
        } else {
          finalResult += nums[i]
        }
      }
      return finalResult
    }
    console.log(sumNumsFor([1, 2, 3]))
    console.log(sumNumsFor([1, 2, 13]))

    // 👉 CHALLENGE 2
    // 🧠 The function stripVowels takes a string, strips all lowcase vowel letters (a,e,i,o,u) from it and returns it.
    // 🧠 Example of usage:
    // stripVowels('Lady Gaga') // should return 'Ldy Gg'
    // ❗ Notes:
    // 🧠 There are many ways to solve this, but practice using a for loop to iterate over the characters of the string.
    function stripVowels(str) {
  let result = ''
  for (let i = 0; i < str.length; i++) {
    let updatedString = str[i]
    let isVowel = false
    if (updatedString === 'a' || updatedString === 'e' || updatedString === 'i' || updatedString === 'o' || updatedString === 'u') {
      isVowel = true
    }
    if (!isVowel) {
      result += updatedString
    }
  }
  console.log(result)
  return result
}
console.log(stripVowels('Lady Gaga'))

    // 👉 CHALLENGE 3
    // 🧠 Reimplement sumNumsFor using a while loop instead of a for loop.
    // 🧠 Examples of usage:
    // sumNumsWhile([1, 2, 3]) // should return 6
    // sumNumsWhile([1, 2, 13]) // should return "I'm too superstitious!"
    //THIS IS WHAT IT'S TALKING ABOUT. USE THE FOLLOWING TO ANSWER CHALLENGE 3.
    /* 
        // 👉 CHALLENGE 1
    // 🧠 The function sumNumsFor takes an array of supposed numbers and adds them up, returning the total sum.
    // 🧠 If the function receives an empty array, the returned value ought to be 0.
    // 🧠 If an element in the array happens to not be a number, it is ignored.
    // 🧠 However, if the number 13 is encountered, sumNumsFor returns the string "I'm too superstitious!"
    // 🧠 Examples of usage:
    // sumNumsFor([1, 2, 3]) // should return 6
    // sumNumsFor([1, 2, 13]) // should return "I'm too superstitious!"
    // ❗ Notes:
    // 🧠 There are many ways to solve this, but practice using a for loop to iterate over the array.
    // 🧠 As you have done in the past, declare a variable before you start looping, to accumulate the result.
    NOW USE THE BELOW AND ANSWER IT.
    */
    function sumNumsWhile(numbers) {
  let sum = 0;  // Start with a sum of 0.
  let index = 0;  // We'll use an index to go through each number in the array.

  while (index < numbers.length) {  // While we haven't gone through all numbers yet.
    if (typeof numbers[index] === 'number') {  // Check if the current item is a number.
      if (numbers[index] === 13) {
        return "I'm too superstitious!";  // If the number is 13, return the special message.
      }
      sum = sum + numbers[index];  // Add the current number to the sum.
    }
    index = index + 1;  // Move to the next number in the array.
  }

  return sum;  // Return the total sum.
}

console.log(sumNumsWhile([1, 2, 3]));  // It should show 6.
console.log(sumNumsWhile([1, 2, 13])); // It should show "I'm too superstitious!"


    // 👉 CHALLENGE 4
    // 🧠 The function fightMonsters takes an integer (lifePoints) as its argument, and returns a string.
    // 🧠 Inside the function there will be several rounds of monster-fighting.
    // 🧠 We are alive to fight as long as lifePoints is bigger than zero.
    // 🧠 In the first round, 1 point will be substracted from the initial lifePoints.
    // 🧠 In the second round, 2 points will be substracted from the remaining lifePoints, and so on.
    // 🧠 Eventually a string is returned from the function, in the format "You died in round 5".
    // 🧠 That would be the round when you lost all lifePoints.
    // 🧠 Examples of usage:
    // fightMonsters(1) // should return "You died in round 1"
    // fightMonsters(2) // should return "You died in round 2"
    // fightMonsters(3) // should return "You died in round 2"
    // fightMonsters(10) // should return "You died in round 4"
    // ❗ Notes:
    // 🧠 There are many ways to solve this, but practice using a while loop.
    // 🧠 Work out using pen and paper how the round number and the lifePoints change after each round.
    // 🧠 As long as there are lifePoints, decrease lifePoints by round number, and increase round number by one.
    function fightMonsters(lifePoints) {
  let round = 1
  while (lifePoints > 0) {
    lifePoints -= round
    round++
}
  return "You died in round " + (round - 1)
}
    console.log(fightMonsters(1))
    console.log(fightMonsters(2))
    console.log(fightMonsters(3))
    console.log(fightMonsters(10))

    // 👉 CHALLENGE 5
    // 🧠 The function findEvenNums takes an array of integers as its argument.
    // 🧠 It returns a new array containing the even numbers found in the original array, in the same order.
    // 🧠 Examples of usage:
    // findEvenNums([0, 1, 2, 3, 4]) // should return [0, 2, 4]
    // ❗ Notes:
    // 🧠 Use any kind of loop you'd like and the push method to populate the array of even numbers.
    function findEvenNums(numbersArray) {
      let evenNumbers = []
  for (let i = 0; i < numbersArray.length; i++) {
    if (numbersArray[i] % 2 === 0) {
      evenNumbers.push(numbersArray[i])
    }
  }
  return evenNumbers
}
console.log(findEvenNums([0, 1, 2, 3, 4]))

    // 👉 CHALLENGE 6
    // 🧠 The function separateAges takes an array of integers (ages) as its argument.
    // 🧠 It returns a new array containing two elements, which happen to also be arrays.
    // 🧠 The first subarray contains the ages under 21, and the second subarray the ages equal or older than 21.
    // 🧠 Ages in the subarrays should appear in the same order they appeared in the original array.
    // 🧠 Examples of usage:
    // separateAges([31, 12, 25, 65, 84, 20]) // should return [[12, 20], [31, 25, 65, 84]]
    function separateAges(ages) {
      let aboveTwentyOne = []
      let underTwentyOne = []
      for (let i = 0; i < ages.length; i++)
      if (ages[i] < 21) {
        underTwentyOne.push(ages[i])
      } else {
        aboveTwentyOne.push(ages[i])
      }
      return [underTwentyOne, aboveTwentyOne]
    }
    console.log(separateAges([31, 12, 25, 65, 84, 20]))

    // 👉 CHALLENGE 7
    // 🧠 The function headAndTail takes an array as its argument.
    // 🧠 It returns an object with two properties: "head" and "tail".
    // 🧠 The "head" prop contains the first element of the array.
    // 🧠 The "tail" prop contains an array holding the elements of the array after the first one.
    // 🧠 Examples of usage:
    // headAndTail([1, 2, 3]) // should return { head: 1, tail: [2, 3] }
    function headAndTail(array) {
  let result = {}
  result.head = array[0]
  result.tail = array.slice(1)
  return result
}

console.log(headAndTail([1, 2, 3]))

    // 👉 CHALLENGE 8
    // 🧠 The function nestedLoops takes an array of strings as its argument.
    // 🧠 It returns a new array of strings which are the same as the original ones except that the vowels are capitalized.
    // 🧠 Examples of usage:
    // nestedLoops(['hello', 'goodbye']) // should return ['hEllO', 'gOOdbyE']
    // ❗ Notes:
    // 🧠 To capitalize a string you can use its toUpperCase method: "a".toUpperCase() returns "A"
    function nestedLoops(stringsArray) {
  let resultArray = []
  for (let i = 0; i < stringsArray.length; i++) {
    let originalString = stringsArray[i]
    let capitalizedString = ''
    for (let k = 0; k < originalString.length; k++) {
      let currentChallenge = originalString[k]
      if ('aeiouAEIOU'.includes(currentChallenge)) {
        capitalizedString += currentChallenge.toUpperCase()
      } else {
        capitalizedString += currentChallenge
      }
    }
    resultArray.push(capitalizedString)
  }
  return resultArray
}
console.log(nestedLoops(['hello', 'goodbye']))

    // 👉 CHALLENGE 9
    // 🧠 The function crazyTrimmer takes an array as its argument.
    // 🧠 If the array has an even number of elements, the function returns it minus its last element.
    // 🧠 If the number of elements is odd, the function returns the array minus its first and last elements.
    // 🧠 Examples of usage:
    // crazyTrimmer(['a', 'b', 'c']) // should return ['b']
    // crazyTrimmer(['a', 'b', 'c', 'd']) // should return ['a', 'b', 'c']
    // ❗ Notes:
    // 🧠 Practice using pop and slice.
    // 🧠 Note that pop modifies the original array in place and returns the "popped" element, whereas slice gives us a brand new array.
function crazyTrimmer(arr) {
  if (arr.length % 2 === 0) {
    arr.pop()
  } else {
    arr = arr.slice(1, -1)
  }
  return arr
}
console.log(crazyTrimmer(['a', 'b', 'c']))
console.log(crazyTrimmer(['a', 'b', 'c', 'd']))



    // 🧪 TESTS, do not work below this line
    // 🧪 TESTS, do not work below this line
    // 🧪 TESTS, do not work below this line
    runTests('CHALLENGE 1 - sumNumsFor', sumNumsFor, [
      [[[1, 2, 3]], 6],
      [[[]], 0],
      [[[1, 2, "x", 4]], 7],
      [[[1, 2, 13, 3]], "I'm too superstitious!"],
    ])
    runTests('CHALLENGE 2 - stripVowels', stripVowels, [
      [['aeiou'], ''],
      [['xyz'], 'xyz'],
      [['aeiouAEIOU'], 'AEIOU'],
      [['precaution'], 'prctn'],
    ])
    runTests('CHALLENGE 3 - sumNumsWhile', sumNumsWhile, [
      [[[1, 2, 3]], 6],
      [[[]], 0],
      [[[1, 2, "x", 4]], 7],
      [[[1, 2, 13, 3]], "I'm too superstitious!"],
    ])
    runTests('CHALLENGE 4 - fightMonsters', fightMonsters, [
      [[1], 'You died in round 1'],
      [[2], 'You died in round 2'],
      [[3], 'You died in round 2'],
      [[10], 'You died in round 4'],
      [[100], 'You died in round 14'],
    ])
    runTests('CHALLENGE 5 - findEvenNums', findEvenNums, [
      [[[]], []],
      [[[0]], [0]],
      [[[1, 0, 5, 2, 4]], [0, 2, 4]],
    ])
    runTests('CHALLENGE 6 - separateAges', separateAges, [
      [[[31, 12, 25, 65, 84, 20]], [[12, 20], [31, 25, 65, 84]]],
      [[[1, 2, 3]], [[1, 2, 3], []]],
      [[[21, 22, 23]], [[], [21, 22, 23]]],
    ])
    runTests('CHALLENGE 7 - headAndTail', headAndTail, [
      [[[1, 2, 3]], { head: 1, tail: [2, 3] }],
      [[["a", "b", "c"]], { head: "a", tail: ["b", "c"] }],
    ])
    runTests('CHALLENGE 8 - nestedLoops', nestedLoops, [
      [[['aeiou', 'xyz']], ['AEIOU', 'xyz']],
      [[['foo', 'bar', 'baz']], ['fOO', 'bAr', 'bAz']],
    ])
    runTests('CHALLENGE 9 - crazyTrimmer', crazyTrimmer, [
      [[[1, 2, 3]], [2]],
      [[[1, 2]], [1]],
      [[[1, 2, 3, 4]], [1, 2, 3]],
      [[[1, 2, 3, 4, 5]], [2, 3, 4]],
    ])
    function runTests(testName, func, tests) {
      let results = []
      tests.forEach(test => {
        const argsList = test[0]
        const expected = JSON.stringify(test[1])
        const actual = JSON.stringify(func.apply(null, JSON.parse(JSON.stringify(argsList))))
        results.push([argsList, expected, actual])
      })
      console.log('\n' + testName)
      if (results.every(result => result[1] === result[2])) console.log('\t✅ All tests pass')
      else results.forEach((result, idx) => {
        if (result[1] === result[2]) console.log(`\t✅ Test ${idx + 1} passes`)
        else console.log(`\t❌ Test ${idx + 1} fails: ${func.name}(${result[0]
          .map(JSON.stringify)}) should return ${result[1]} but returns ${result[2]}`)
      })
    }
  </script>
</body>

</html>